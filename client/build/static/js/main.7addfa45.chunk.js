(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{12:function(e,t,a){e.exports={Wrapper:"SignupForm_Wrapper__3Oe2q",Title:"SignupForm_Title__2OhNs",Form:"SignupForm_Form__1uw-l",InputField:"SignupForm_InputField__3XsxP",ButtonsContainer:"SignupForm_ButtonsContainer__JXQdc",ErrorMessage:"SignupForm_ErrorMessage__1vsRz",GoBackButton:"SignupForm_GoBackButton__1jMyp"}},15:function(e,t,a){e.exports={Wrapper:"LoginForm_Wrapper__dJlE0",Title:"LoginForm_Title__2bgwh",Form:"LoginForm_Form__2XSoW",InputField:"LoginForm_InputField__2XB1j",ButtonsContainer:"LoginForm_ButtonsContainer__LcSuP",ErrorMessage:"LoginForm_ErrorMessage__1llt9"}},20:function(e,t,a){e.exports={Card:"InstagramTagCard_Card__3q2Fp",InfoField:"InstagramTagCard_InfoField__ehEzj",HashtagInfocontainer:"InstagramTagCard_HashtagInfocontainer__17mrp",Avatar:"InstagramTagCard_Avatar__2mynC",SaveButton:"InstagramTagCard_SaveButton__2yudB",CardFooter:"InstagramTagCard_CardFooter__5zHrs"}},22:function(e,t,a){e.exports={Wrapper:"SearchResults_Wrapper__sf1Kl",PlaceholderText:"SearchResults_PlaceholderText__3Yl5i",CardsWrapper:"SearchResults_CardsWrapper___yKlV"}},23:function(e,t,a){e.exports={Card:"InstagramUserCard_Card___1yao",InfoField:"InstagramUserCard_InfoField__22JkT",Avatar:"InstagramUserCard_Avatar__3_X_H",SaveButton:"InstagramUserCard_SaveButton__owZ_8",CardFooter:"InstagramUserCard_CardFooter__1x4ol"}},24:function(e,t,a){e.exports={ActiveLink:"Navbar_ActiveLink__3jgZg",logoutButton:"Navbar_logoutButton__2rPF6"}},25:function(e,t,a){e.exports={Wrapper:"Profile_Wrapper__21_XH",AccountInfo:"Profile_AccountInfo__1ktH_",InfoFields:"Profile_InfoFields__3asMS"}},26:function(e,t,a){e.exports={Wrapper:"SavedItemsContainer_Wrapper__2oN3E",PlaceholderText:"SavedItemsContainer_PlaceholderText__3HgGN",CardsWrapper:"SavedItemsContainer_CardsWrapper__17Daa"}},31:function(e,t,a){e.exports={Wrapper:"SearchForm_Wrapper__1OcQb",SearchBox:"SearchForm_SearchBox__3J7RU"}},45:function(e,t,a){e.exports={ldsHourglass:"Loader_ldsHourglass__3qq4u"}},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(42),r=a.n(s),o=a(4),i=a(13),l=a(5),u=Object(n.createContext)();function j(){return Object(n.useContext)(u)}var d=a(3),b=a(46),O=a(43),h=function(e){return null!==e&&(!(1e3*Object(O.a)(e).exp<(new Date).getTime())||(localStorage.removeItem("auth-token"),localStorage.removeItem("user-id"),!1))},m=a(0),p=function(e){var t=e.component,a=Object(b.a)(e,["component"]),n=Object(l.g)(),c=j(),s=c.authToken,r=c.setToken;return h(s)||(r(null),n.push("/login")),Object(m.jsx)(l.b,Object(d.a)(Object(d.a)({},a),{},{render:function(e){return s?Object(m.jsx)(t,Object(d.a)({},e)):Object(m.jsx)(l.a,{to:"/login"})}}))},x=a(17),g=a(15),f=a.n(g),_=a(7),v=a.n(_),I=a(45),S=a.n(I),C=function(){return Object(m.jsx)("div",{className:S.a.ldsHourglass})},N=function(){var e=Object(l.g)(),t=Object(n.useState)({email:"",password:""}),a=Object(o.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!1),i=Object(o.a)(r,2),u=i[0],b=i[1],O=Object(n.useState)(""),h=Object(o.a)(O,2),p=h[0],g=h[1],_=j(),I=_.setToken,S=_.setId,N=function(e){s(Object(d.a)(Object(d.a)({},c),{},Object(x.a)({},e.target.name,e.target.value)))};return Object(m.jsxs)("div",{className:f.a.Wrapper,children:[Object(m.jsxs)("h2",{className:f.a.Title,children:["Insta",Object(m.jsx)("span",{children:"Project"})]}),Object(m.jsx)("h4",{children:"Login"}),Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),b(!0),v.a.post("/api/account/login",Object(d.a)({},c)).then((function(t){200===t.status&&(b(!1),I(t.data.token),S(t.data.userId),e.push("/dashboard"))})).catch((function(e){g(e.response.data.message),b(!1)}))},className:f.a.Form,children:[Object(m.jsxs)("div",{className:f.a.InputField,children:[Object(m.jsx)("label",{htmlFor:"",children:"Email"}),Object(m.jsx)("input",{value:c.email,onChange:N,name:"email",type:"text"})]}),Object(m.jsxs)("div",{className:f.a.InputField,children:[Object(m.jsx)("label",{htmlFor:"",children:"Password"}),Object(m.jsx)("input",{value:c.password,onChange:N,name:"password",type:"password"})]}),Object(m.jsxs)("div",{className:f.a.ButtonsContainer,children:[Object(m.jsx)("button",{onClick:function(){return e.push("/signup")},type:"button",children:"Sign Up"}),Object(m.jsx)("button",{type:"submit",children:"Login"})]}),Object(m.jsx)("p",{className:f.a.ErrorMessage,children:p})]}),u&&Object(m.jsx)(C,{})]})},F=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(N,{})})},k=a(12),y=a.n(k),B=function(){var e=Object(l.g)(),t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(""),i=Object(o.a)(r,2),u=i[0],j=i[1],b=Object(n.useState)({firstName:"",lastName:"",email:"",password:""}),O=Object(o.a)(b,2),h=O[0],p=O[1],g=function(e){p(Object(d.a)(Object(d.a)({},h),{},Object(x.a)({},e.target.name,e.target.value)))};return Object(m.jsxs)("div",{className:y.a.Wrapper,children:[Object(m.jsxs)("h2",{className:y.a.Title,children:["Insta",Object(m.jsx)("span",{children:"Project"})]}),Object(m.jsx)("h4",{children:"Sign up"}),Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),s(!0),v.a.post("/api/account/register",Object(d.a)({},h)).then((function(t){201===t.status&&(s(!1),e.push("/login"))})).catch((function(e){j(e.response.data.message),s(!1)}))},className:y.a.Form,children:[Object(m.jsxs)("div",{className:y.a.InputField,children:[Object(m.jsx)("label",{htmlFor:"",children:"First Name"}),Object(m.jsx)("input",{value:h.firstName,onChange:g,name:"firstName",type:"text"})]}),Object(m.jsxs)("div",{className:y.a.InputField,children:[Object(m.jsx)("label",{htmlFor:"",children:"Last Name"}),Object(m.jsx)("input",{value:h.lastName,onChange:g,name:"lastName",type:"text"})]}),Object(m.jsxs)("div",{className:y.a.InputField,children:[Object(m.jsx)("label",{htmlFor:"",children:"Email"}),Object(m.jsx)("input",{value:h.email,onChange:g,name:"email",type:"email"})]}),Object(m.jsxs)("div",{className:y.a.InputField,children:[Object(m.jsx)("label",{htmlFor:"",children:"Password"}),Object(m.jsx)("input",{value:h.password,onChange:g,name:"password",type:"password"})]}),Object(m.jsxs)("div",{className:y.a.ButtonsContainer,children:[Object(m.jsx)("button",{onClick:function(){return e.push("/login")},className:y.a.GoBackButton,type:"button",children:"Back"}),Object(m.jsx)("button",{type:"submit",children:"Confirm"})]}),Object(m.jsx)("p",{className:y.a.ErrorMessage,children:u})]}),c&&Object(m.jsx)(C,{})]})},T=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(B,{})})},W=a(31),L=a.n(W),P=function(e){var t=e.setLoading,a=e.setSearchResults,c=Object(n.useState)(""),s=Object(o.a)(c,2),r=s[0],i=s[1];return Object(m.jsx)("div",{className:L.a.Wrapper,children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r.trim()&&(t(!0),v.a.get("/api/search/search/".concat(r)).then((function(e){a(e.data),t(!1)})).catch((function(){t(!1)})))},className:L.a.SearchBox,children:[Object(m.jsx)("input",{onChange:function(e){i(e.target.value)},value:r,placeholder:"Search for a user or #tag",type:"text"}),Object(m.jsx)("button",{children:"Search"})]})})},w=a(22),E=a.n(w),A=a(14),H=a(23),R=a.n(H),J=a(18),M=function(e){var t=e.user,a=e.operation,n=e.icon,c=e.saved?"#546de5":"#2f3640";return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{onClick:function(){return a(t)},className:R.a.Card,children:Object(m.jsxs)("div",{className:R.a.InfoField,children:[Object(m.jsx)("img",{className:R.a.Avatar,src:t.image,alt:"user profile"}),Object(m.jsxs)("h2",{children:["@",t.username]}),Object(m.jsx)(J.a,{size:"3x",icon:n,color:c})]})})})},U=a(20),z=a.n(U),D=function(e){var t=e.hashtag,a=e.operation,n=e.icon,c=e.saved?"#546de5":"#2f3640";return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{onClick:function(){return a(t)},className:z.a.Card,children:Object(m.jsxs)("div",{className:z.a.InfoField,children:[Object(m.jsx)("img",{className:z.a.Avatar,src:t.image,alt:"user profile"}),Object(m.jsxs)("div",{className:z.a.HashtagInfocontainer,children:[Object(m.jsxs)("h2",{children:["#",t.name]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{children:"Media Count : "})," ",t.mediaCount," "]})]}),Object(m.jsx)(J.a,{color:c,size:"3x",icon:n})]})})})},X=function(e){var t=e.loading,a=e.setSearchResults,c=e.searchResults,s=e.savedContent,r=e.accountId,i=Object(n.useState)(null),l=Object(o.a)(i,2),u=l[0],j=l[1],b=function(e){var t={type:e.type,InstagramObject:Object(d.a)({},e),accountId:r};v.a.post("/api/account/save",t).then((function(e){e.status})).catch((function(e){}))};return Object(m.jsxs)("div",{className:E.a.Wrapper,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{disabled:!c&&s,onClick:function(){!function(){var e=c.users.map((function(e){return s.users.find((function(t){return t.username===e.username}))?Object(d.a)(Object(d.a)({},e),{},{saved:!0}):Object(d.a)(Object(d.a)({},e),{},{saved:!1})}));console.log(e),a(Object(d.a)(Object(d.a)({},c),{},{users:e}))}(),j("user")},children:"Users"}),Object(m.jsx)("button",{disabled:!c&&s,onClick:function(){!function(){var e=c.hashtags.map((function(e){return s.hashtags.find((function(t){return t.name===e.name}))?Object(d.a)(Object(d.a)({},e),{},{saved:!0}):Object(d.a)(Object(d.a)({},e),{},{saved:!1})}));console.log(e),a(Object(d.a)(Object(d.a)({},c),{},{hashtags:e}))}(),j("hashtag")},children:"Hashtags"})]}),c?null:Object(m.jsx)("p",{className:E.a.PlaceholderText,children:"Search for something"}),t&&Object(m.jsx)(C,{}),u?Object(m.jsx)("div",{className:E.a.CardsWrapper,children:"user"===u?c.users.map((function(e){return Object(m.jsx)(M,{accountId:r,user:e,icon:A.b,operation:b,saved:e.saved},e.username)})):c.hashtags.map((function(e){return Object(m.jsx)(D,{accountId:r,hashtag:e,icon:A.b,operation:b,saved:e.saved},e.name)}))}):null]})},q=a(24),G=a.n(q),K=function(){var e=j(),t=e.setToken,a=e.setId;return Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(i.b,{activeClassName:G.a.ActiveLink,to:"/dashboard",children:"Dashboard"})}),Object(m.jsx)("li",{children:Object(m.jsx)(i.b,{activeClassName:G.a.ActiveLink,to:"/saved_items",children:"Saved Items"})}),Object(m.jsx)("li",{className:G.a.logoutButton,style:{float:"right"},children:Object(m.jsxs)(i.b,{onClick:function(){localStorage.removeItem("user-id"),localStorage.removeItem("auth-token"),t(null),a(null)},to:"/login",children:[Object(m.jsx)("span",{style:{marginRight:"15px"},children:"Logout"}),Object(m.jsx)(J.a,{size:"lg",icon:A.a})]})})]})},Q=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(null),r=Object(o.a)(s,2),i=r[0],l=r[1],u=Object(n.useState)(null),d=Object(o.a)(u,2),b=d[0],O=d[1],h=j().accountId;return Object(n.useEffect)((function(){v.a.post("/api/account/saved_content",{accountId:h}).then((function(e){return l((function(t){return e.data}))}))}),[h]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(K,{}),Object(m.jsx)(P,{setLoading:c,setSearchResults:O}),Object(m.jsx)(X,{setSearchResults:O,accountId:h,savedContent:i,searchResults:b,loading:a})]})},Z=a(25),V=a.n(Z),Y=function(){var e=Object(n.useState)({firstName:"",lastName:"",email:""}),t=Object(o.a)(e,2),a=t[0],c=t[1],s=j().accountId;return Object(n.useEffect)((function(){v.a.post("/api/account/account_info",{accountId:s}).then((function(e){return c(e.data)}))}),[s]),Object(m.jsxs)("div",{className:V.a.Wrapper,children:[Object(m.jsx)("h4",{children:"Profile"}),Object(m.jsxs)("div",{className:V.a.AccountInfo,children:[Object(m.jsx)("img",{src:"https://iupac.org/wp-content/uploads/2018/05/default-avatar.png",alt:""}),Object(m.jsxs)("div",{className:V.a.InfoFields,children:[Object(m.jsx)("h4",{children:a.firstName+" "+a.lastName}),Object(m.jsx)("h4",{children:a.email})]})]})]})},$=a(26),ee=a.n($),te=function(){var e=j().accountId,t=Object(n.useState)(null),a=Object(o.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)("user"),i=Object(o.a)(r,2),l=i[0],u=i[1],b=Object(n.useState)(!1),O=Object(o.a)(b,2),h=O[0],p=O[1];Object(n.useEffect)((function(){p(!0),v.a.post("/api/account/saved_content",{accountId:e}).then((function(e){s(e.data),p(!1)}))}),[e]);var x=function(t){var a={type:t.type,InstagramObject:Object(d.a)({},t),accountId:e};v.a.post("/api/account/delete",a).then((function(e){if(200===e.status)if("user"===t.type){var a=Object(d.a)(Object(d.a)({},c),{},{users:c.users.filter((function(e){return e.username!==t.username}))});s(a)}else{var n=Object(d.a)(Object(d.a)({},c),{},{users:c.hashtags.filter((function(e){return e.name!==t.name}))});s(n)}})).catch((function(e){}))};return Object(m.jsxs)("div",{className:ee.a.Wrapper,children:[Object(m.jsx)("h3",{children:"Saved Items"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{disabled:!c,onClick:function(){return u("user")},children:"Users"}),Object(m.jsx)("button",{disabled:!c,onClick:function(){return u("hashtag")},children:"Hashtags"})]}),c?null:Object(m.jsx)("p",{className:ee.a.PlaceholderText,children:"Search for something"}),h&&Object(m.jsx)(C,{}),c?Object(m.jsx)("div",{className:ee.a.CardsWrapper,children:"user"===l?c.users.map((function(t){return Object(m.jsx)(M,{accountId:e,user:t,operation:x,icon:A.c},t.username)})):c.hashtags.map((function(t){return Object(m.jsx)(D,{accountId:e,hashtag:t,operation:x,icon:A.c},t.name)}))}):null]})},ae=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(K,{}),Object(m.jsx)(Y,{}),Object(m.jsx)(te,{})]})};var ne=function(){var e=JSON.parse(localStorage.getItem("auth-token"))||null,t=Object(n.useState)(e),a=Object(o.a)(t,2),c=a[0],s=a[1],r=JSON.parse(localStorage.getItem("account-id"))||null,j=Object(n.useState)(r),d=Object(o.a)(j,2),b=d[0],O=d[1];return Object(m.jsx)(u.Provider,{value:{authToken:c,setToken:function(e){localStorage.setItem("auth-token",JSON.stringify(e)),s(e)},accountId:b,setId:function(e){localStorage.setItem("account-id",JSON.stringify(e)),O(e)}},children:Object(m.jsx)(i.a,{children:Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{path:"/login",component:F}),Object(m.jsx)(l.b,{path:"/signup",component:T}),Object(m.jsx)(p,{path:"/dashboard",component:Q}),Object(m.jsx)(p,{path:"/saved_items",component:ae}),Object(m.jsx)(l.a,{to:"/login"})]})})})};console.log(""),console.log("production");a(75);v.a.defaults.baseURL="",r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(ne,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.7addfa45.chunk.js.map